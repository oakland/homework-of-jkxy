var Monkey,ALog=ALog||{};void function(aK){function aq(c){ax[c]=+new Date}function ap(){aF||(aF={},"AdivBliCaDulEdlFddGspanHtableIbodyJtrKsectionLtdMolNpOarticlePdtQformRimgSh3TinputUasideViWbXthYemZfont".replace(/([A-Z])([a-z]+)/g,function(e,d,f){aF[aF[d]=f]=d}))}function ao(h,f,k,j){if(!h||1!=h.nodeType){return""}var i=/^[^u]/.test(typeof h.getAttribute)&&h.getAttribute(f)||"";return"#"==i?i="[id]":"."==i&&(i="[class]"),i.replace(/\[([\w-_]+)\]/,function(a,d){i=h.getAttribute(d)}),j&&(j.target=h),i||k&&ao(h.parentNode,f,1,j)||""}function an(f,d,n){if(n&&ap(),d=d||aH.body,!f||f==d||/^body$/i.test(f.tagName)){return""}if(1!=f.nodeType||/html/i.test(f.tagName)){return f.tagName||""}for(var m=ao(f,aD),l=1,k=f.previousSibling,i=f.nodeName.toLowerCase();k;){l+=k.nodeName==f.nodeName,k=k.previousSibling}return m=(n&&aF[i]||i)+(2>l?"":l)+(m&&"("+m+")"),f.parentNode==d?m:an(f.parentNode,d,n)+(/^[A-Z]/.test(m)?"":"-")+m}function am(e,d){if(d=d||aH,!e||e==d){return""}var f=ao(e,"monkey",0);return e.parentNode==d||null==e.parentNode?f?"m-"+f:"m":am(e.parentNode,d)+(f?"-":"")+f}function al(d,c){return an(d,c,1)}function ak(d,c){return ao(d,aC,!0,c)}function aj(c){return ao(c,aB,!0)}function ai(c){return ao(c,az,!0)}function ah(c){return ao(c,aA)}function ag(c){return ao(c,ay)}function af(c){return ao(c,alog_attr_custom)}function ae(a,l){var k,j,i,h;if(a&&l){ad("report",l),k=new Image(1,1),j=[],i="img_"+ +new Date;for(h in l){(l[h]||0===l[h])&&j.push(h+"="+encodeURIComponent(l[h]))}aK[i]=k,k.onload=k.onerror=function(){aK[i]=k=k.onload=k.onerror=null,delete aK[i]},k.src=a+"?"+j.join("&")}}function ad(h,f){var i,k=av[h],j=0;if(k){for(i=k.length;i--;){k[i](f,h)&&j++}return j}}function ac(e,d,f){aw.count++,aw.items.length<=9&&aw.items.push([e,d,f,+new Date]),ad("error",aw)}function ab(a,k,j,i){if(a){try{if(i&&i.push([a,k,j]),a==aK){return av[k]=av[k]||[],av[k].unshift(j),void 0}a.addEventListener?a.addEventListener(k,j,!1):a.attachEvent&&a.attachEvent("on"+k,j)}catch(h){}}}function aa(a,n,m){var l,k,j;if(a){try{if(a instanceof Array){for(;l=a.pop();){aa.apply(this,l)}return}if(a==aK){if(k=av[n],!k){return}for(j=k.length;j--;){k[j]===m&&k.splice(j,1)}return}a.removeEventListener?a.removeEventListener(n,m,!1):a.detachEvent&&a.detachEvent("on"+n,m)}catch(i){}}}function Z(c){return c.replace(/\(([^)]+)\)/g,"").replace(/[A-Z]/g,function(d){return"-"+aF[d]}).replace(/^-/,"")}function Y(d,c){return c?(au[d]=au[d]||[],c instanceof Array?au=au[d].concat(c):au[d].push(c),void 0):au[d]}function X(){if(!at&&(at=!0,aq("ult"),ad("unload"))){for(isSleep=new Date;new Date-isSleep<100;){}}}function W(h,l){function i(d,e){return String(+aJ.min(aJ.max(d/e,0),1).toFixed(36>e?1:351>e?2:3)).replace(/^0\./g,".")}var k=h.getBoundingClientRect(),j=V(h);return[i(l[0]-k.left,j[0]),i(l[1]-k.top,j[1])]}function V(d){var c=d.getBoundingClientRect();return[aG(c.right-c.left),aG(c.bottom-c.top)]}function U(){var c=V(aH.documentElement),d=V(aH.body);return[aJ.max(c[0],d[0],aI.innerWidth||0,aH.documentElement.scrollWidth||0),aJ.max(c[1],d[1],aI.innerHeight||0,aH.documentElement.scrollHeight||0)]}function q(){return[aJ.max(aH.documentElement.scrollLeft||0,aH.body.scrollLeft||0,aH.defaultView&&aH.defaultView.pageXOffset||0),aJ.max(aH.documentElement.scrollTop||0,aH.body.scrollTop||0,aH.defaultView&&aH.defaultView.pageYOffset||0),aI.innerWidth||aH.documentElement.clientWidth||aH.body.clientWidth||0,aI.innerHeight||aH.documentElement.clientHeight||aH.body.clientHeight||0]}function g(d,c){switch(d){case"group":aB=c;break;case"alias":aD=c;break;case"action":aC=c;break;case"param":aA=c;break;case"extra":az=c}}var aF,at,ax,aw,av,au,ar,aJ=Math,aI=window,aH=document,aG=parseInt,aE=(/msie \d+/i.test(navigator.userAgent),"alog-"),aD=aE+"alias",aC=aE+"action",aB=aE+"group",aA=aE+"param",az=aE+"extra",ay=aE+"text";alog_attr_custom=aE+"custom",ax={},aw={count:0,items:[]},av={},au=aK.configs||{},ar=(+new Date).toString(36)+aJ.random().toFixed(8).substr(2).toString(36),aK.errors=aw,aK.configs=au,aK.times=ax,aK.sid=ar,aK.getM=am,aK.getXPath=al,aK.getAction=ak,aK.getGroup=aj,aK.getExtra=ai,aK.getParam=ah,aK.getText=ag,aK.getCustom=af,aK.report=ae,aK.fire=ad,aK.error=ac,aK.on=ab,aK.un=aa,aK.epath=Z,aK.config=Y,aK.ep=W,aK.ps=U,aK.vr=q,aK.an=g,ab(aI,"beforeunload",X),ab(aI,"unload",X),ab(aI,"error",ac)}(ALog),Monkey=Monkey||{},void function(aw){function W(e){if(e){var d,f={ts:S().toString(36)};for(d in aa){f[d]=aa[d]}for(d in e){f[d]=e[d]}x("report",f),Z.report(at.postUrl,f),Z.report(at.hao123PostUrl,f)}}function V(e,d){if(e){var f={cmd:"action",ac:e,param:d};x("action",f),W(f)}}function U(d,c){d&&(aa[d]=c)}function T(e,d,f){Z.on(Z,aq+"."+e,d,f)}function S(){return new Date-ao}function R(c){for(;c;){if(/^(a|button)$/i.test(c.tagName)){return c}c=c.parentNode}}function Q(){var d,c;switch(ar.refer){case 1:case !0:return au.referrer;case 2:if(d=au.referrer,!d){return}return c="",d.replace(/(^\w+:\/\/)?([^\/]+)/,function(e,f){c=f}),au.location.host==c?au.referrer:c}}function P(aF,aE,aD){var aB,aA,az,ay,ax,L,G,F,y,u,B,A,z,v,t,s,q,p,o,n,m,e,aC=aE.target||aE.srcElement;switch(aF){case"d":if(!aC){return}if(ak++,aB={},aA=R(aC),az=Z.getAction(aC,aB),ay="",ax="",L=Z.getText(aC),aA?(/^a$/i.test(aA.tagName)?(ar.click&&(ay=aA.getAttribute("href",2),/^(javascript|#)/i.test(ay)&&(ay=""),G=aA.getAttribute("cls"),G&&(G=G.split(","),F=ay.match(/\/\/([^\/?#]+).*$/),F?(F=F[1],F=F.indexOf("hao123.com")>-1?1:0):F=0)),aj++):ai++,ar.click&&(L=L||Z.getText(aA)||aA.title||aA.innerHTML.replace(/<[^>]*>|\s/g,"")),ax=Z.getCustom(aA)):/input/i.test(aC.tagName)&&/button|radio|checkbox|submit/i.test(aC.type)&&(aA=aC,ai++,L=L||aC.value),/img/i.test(aC.tagName)&&(ag++,L=L||aC.alt||aC.title||aC.src),!aA&&!az||!ar.click){break}if(ar.onlylink&&/input|button/i.test(aC.tagName)){break}ah++,y=aD?aD.path+"/"+Y(aC,aD.doc):Y(aC),u=X(aC),B=Z.getGroup(aC),A=Z.getExtra(aC),z=Z.getParam(aB.target),v=Z.ep(aC,[aE.clientX,aE.clientY]),t=aC.ownerDocument,s=t.body,q=[0,0],aE.pageX||aE.pageY?q=[aE.pageX,aE.pageY]:(aE.clientX||aE.clientY)&&(q=[aE.clientX+(t&&t.scrollLeft||s&&s.scrollLeft||0)-(t&&t.clientLeft||s&&s.clientLeft||0),aE.clientY+(t&&t.scrollTop||s&&s.scrollTop||0)-(t&&t.clientTop||s&&s.clientTop||0)]),p={xp:y,mp:u,g:B,gx:A,ac:az,ep:v,ci:ah,pp:q,ps:Z.ps(),param:z,u:String(ay||"none").substr(0,200),txt:String(L||"none").substr(0,30)};try{if(G){for(p.c0=F,o=0;o<G.length;o++){key="c"+(o+1),p[key]=G[o]?G[o]:"n"+(o+1)}}if(ax){for(ax=ax.split(","),n=0;n<ax.length;n++){m=ax[n].split(":"),p["cus_"+m[0]]=m[1]}}}catch(aE){}ar.vr&&(p.vr=Z.vr()),x("click",p),W(p);break;case"o":ae=S(),ad=1;break;case"i":ac+=S()-ae,ae=S(),ad=0;break;case"s":case"e":e=Z.vr(),ab=Math.max(e[1]+e[3],ab)}}function O(e){if(window.ALog&&!ao&&document.body.getBoundingClientRect){Z=ALog,e=e||[],e instanceof Array||(e=[e]);for(var c,d,a,g=[].concat(e);(at=g.pop())&&!(at.page=at.page||at.getPage());){}if(at){at.page instanceof Array&&(at.mid=at.mid||at.page[1],at.page=at.page[0]),ar=at.reports,Z.on(Z,"unload",N,am),Z.on(Z,"error",h,am),Y=Z.getXPath,X=Z.getM,ak=aj=ai=ah=ag=ae=ad=ac=0,ao=Z.times&&Z.times.ht||new Date,an=Z.sid||(+ao).toString(36)+(+Math.random().toFixed(8).substr(2)).toString(36),al="_e_"+an,aa={pid:at.pid||241,sid:an,hid:at.hid,mid:at.mid,page:at.page,ver:5,p:at.product,px:av.screen.width+"*"+av.screen.height,ref:Q()};for(c in at){/^on(\w+)$/.test(c)&&T(c.substr(2),at[c],am)}for(x("start",aw),ae=S(),a=Z.vr(),ab=a[1]+a[3],ar.pv&&W({cmd:"open"}),c=0;(d=ap[c++])&&(Z.on(d[2]||au,d[0],function(f){return function(i){ao&&P(f,i)}}(d[1]),am),ar.staytime);){}}}}function N(){if(ao){if(x("close",aw),ad&&(ac+=S()-ae),ar.staytime){var a={cmd:"close",tc:ak,lc:aj,bc:ai,pc:ag,pd:ab,ft:(S()-ac).toString(36),ec:af};W(a)}return ao=0,Z.un(am),ar.staytime}}function x(d,c){Z.fire(aq+"."+d,c)}function h(d){if(af=d.count,ar.error){ar.error=0;var c=d.items[0];c&&W({cmd:"error",et:(c[3]-ao).toString(36),url:c[1],msg:c[0],line:c[2]})}}var at,ar,ao,an,al,ak,aj,ai,ah,ag,af,ae,ad,ac,ab,Y,X,av=window,au=document,aq="monkey",ap=[["mousedown","d"],["focusout","o"],["blur","o",av],["focusin","i"],["focus","i",av],["scroll","s",av],["resize","e",av]],am=[],aa={},Z=av.ALog;aw.push=V,aw.set=U,aw.on=T,aw.start=O,aw.stop=N,aw.fire=x,Z&&Z.configs&&Z.configs[aq]&&O(Z.configs[aq])}(Monkey),function(N){function v(){function i(c){for(;c;){if("function"==typeof c.hasAttribute&&(/^(a|button|b)$/i.test(c.tagName)||c.hasAttribute("as-link"))){return c}c=c.parentNode}return !1}function h(){var c;if(!window[g]){try{if(!G.pageId){throw {name:"not defined",message:"pageId is not defined"}}c=[],c.push("type=erjidata"),c.push("valid=1"),c.push("pageId="+encodeURIComponent(G.pageId)),"undefined"!=typeof pageTitle&&c.push("pageTitle="+encodeURIComponent(pageTitle)),"undefined"!=typeof G.level&&c.push("level="+encodeURIComponent(G.level)),"undefined"!=typeof G.page&&c.push("page="+encodeURIComponent(G.page)),c.push("r="+(new Date).getTime()),w.sio.log(J.protocol+"//"+J.rcv+"?"+c.join("&")),window[g]=!0,j.un(e)}catch(a){c=[];for(E in G){c.push(E+"="+encodeURIComponent(G[E]))}c.push("type=error"),c.push("n="+encodeURIComponent(a.name)),c.push("m="+encodeURIComponent(a.message)),c.push("r="+encodeURIComponent(document.referrer)),w.sio.log(J.protocol+"//"+J.rcv+"?"+c.join("&"))}}}var g,e,j;("undefined"==typeof G.level||"1"!=G.level)&&(g="_log_erjidata_",e=[],j=ALog,j.on(document.body,"submit",function(d){var c;d=window.event||d,c=d.srcElement||d.target,"form"==c.tagName.toLowerCase()&&h()},e),j.on(document.body,"click",function(d){var c;d=window.event||d,c=d.srcElement||d.target,i(c)&&h()},e))}function u(){this.tags={},this.init()}var E,D,C,B,A,z,y,x,w,M="data-log-config",L="1.1.3",K={rcv:"www.hao123.com/images/track.gif",vdur:1800000,age:31536000000,id:"hao123"},J={rcv:K.rcv,currentPageVisitTime:(new Date).getTime(),protocol:"https:"==window.location.protocol?"https:":"http:"},I=["www.hao123.com","hao123.com","www.hao123.com/?f=hao123","www.hao123.com/?from=hao123"],H=["tm","ref","embed","ua","ho","type","r","v"],G={},F=document.getElementsByTagName("script");for(E=0,D=F.length;D>E;E++){if(C=F[E].getAttribute(M)){for(B=C.split(";"),A=0;A<B.length;A++){z=B[A].split(":"),y=z[0],x=z[1],H.push(y),G[y]=x}"index"==G.page||G.vp||(G.vp=G.vp||G.pageId||G.page,H.push("vp"))}}J.tagKeys=H,w={},w.checkUA=function(T){function t(c){return c.toLowerCase()}function s(c){return new RegExp(c+"\\b[ \\/]?([\\w\\.]*)","i")}function r(){var h,a,g;if(!(Math.random()>T)){if(a="ShockwaveFlash.ShockwaveFlash",P.plugins&&P.mimeTypes.length){if(h=P.plugins["Shockwave Flash"],h&&h.description){return h.description.match(/\d+/g).join(".")}}else{g=ActiveXObject;try{h=new g(a+".7")}catch(e){try{return h=new g(a+".6"),h.AllowScriptAccess="always",6}catch(e){}try{h=new g(a)}catch(e){}}if(null!=h){try{return h.GetVariable("$version").match(/\d+/g).join(".")}catch(e){}}}return[0]}}function q(){var d,e;return S.innerHeight||0==S.innerHeight?(d=S.innerWidth,e=S.innerHeight):O&&O.clientHeight?(d=O.clientWidth,e=O.clientHeight):(d="",e=""),[d,e]}function p(c){return(result=P.userAgent.match(s(c)))?result.slice(1):["",""]}function o(){return !("undefined"==typeof window._360ilike)}function f(){var h,e,d,aa,Z,Y,X=["",""],W="msie",V="safari",U="("+W+"|"+V+"|firefox|chrome|opera)",m="(maxthon|360se|theworld|se|theworld|greenbrowser)",l="(tencenttraveler)",k="(windows nt|macintosh|solaris|linux)",j=p(U);return t(j[0])==W?","==(X=p(m))&&(X=p(l),X=o()?["360se","se"]:[","]):t(j[0])==V&&(j[1]=p("version")+"."+j[1]),h=p(k),e=[j.join(","),X.join(","),h.join(",")],d=r(),aa=q(),Z=[e[0],e[1],e[2],P.platform,P.systemLanguage||P.language,Q.width,Q.height,aa[0],aa[1],Q.colorDepth,P.cookieEnabled?1:0,d,P.javaEnabled()?1:0],Y=t(Z.join(";"))}var S,R,Q,P,O;return T=T||0.2,S=window,R=document,Q=screen,P=navigator,document.body,O=R.documentElement,f()},w.l={},w.l._initUserData=function(){if(!w.l.userDataElem){try{w.l.userDataElem=document.createElement("input"),w.l.userDataElem.type="hidden",w.l.userDataElem.style.display="none",w.l.userDataElem.addBehavior("#default#userData"),document.getElementsByTagName("head")[0].appendChild(w.l.userDataElem)}catch(c){return !1}}return !0},w.checkHome=function(){function f(){return g||(g=document.createElement("div"),g.style.display="none",g.style.behavior="url(#default#homePage)",document.body.appendChild(g)),g}function j(d){try{return f().isHomePage(d)}catch(e){}return void 0}function i(){var k,d,e=I;for(e.push(location.host),d=e.length;d--;){k=e[d],e.push(k+"/","http://"+k,"http://"+k+"/")}return e}function h(){var d,c,k;for(d=i(),d.push(document.URL),c=d.length;c--;){if(k=d[c],j(k)){return k}}return 0}var g=!1;return h()},w.sio={},w.sio.log=function(f,e){var h=new Image,g="_log_"+Math.floor(2147483648*Math.random()).toString(36);window[g]=h,h.onload=h.onerror=h.onabort=function(){h.onload=h.onerror=h.onabort=null,window[g]=null,h=null,e&&e(f)},h.src=f},v(),u.prototype={init:function(){var f,e=this;try{if(e.setParams(),e.postData(),!G.pageId){throw {name:"not defined",message:"pageId is pageId not defined"}}}catch(d){f=[];for(E in G){f.push(E+"="+encodeURIComponent(G[E]))}f.push("type=error"),f.push("n="+encodeURIComponent(d.name)),f.push("m="+encodeURIComponent(d.message)),f.push("r="+encodeURIComponent(document.referrer)),w.sio.log(J.protocol+"//"+J.rcv+"?"+f.join("&"))}},setTm:function(){var e,d,f;if(J.lastPageVisitTime=this.getData("H123_lpvt_"+K.id)||0,d=this.getData("H123_lvt_"+K.id)){for(f=d.split(","),J.currentPageVisitTime-f[f.length-1]>K.vdur&&f.push(J.currentPageVisitTime);f.length>4;){f.shift()}d=f.join(","),e=Math.round((f[f.length-1]-0)/1000)}else{d=J.currentPageVisitTime,e=Math.round((d-0)/1000)}this.setData("H123_lvt_"+K.id,d,K.age),this.setData("H123_lpvt_"+K.id,J.currentPageVisitTime,K.age),this.tags.tm=e},getData:function(j){var i,p,o,n,m,l;try{if(i=new RegExp("(^| )"+j+"=([^;]*)(;|$)"),p=i.exec(document.cookie),o=p?p[2]:null,!o){if(window.localStorage){if(n=window.localStorage.getItem(j),n&&(m=n.indexOf("|"),l=n.substring(0,m)-0,l&&l>(new Date).getTime())){return n.substring(m+1)}}else{if(w.l._initUserData()){return w.l.userDataElem.load(window.location.hostname),w.l.userDataElem.getAttribute(j)}}}return o}catch(k){}},setData:function(h,g,l){try{var k=new Date;k.setTime(k.getTime()+l||31536000000),window.localStorage?(g=k.getTime()+"|"+g,window.localStorage.setItem(h,g)):w.l._initUserData()&&(w.l.userDataElem.expires=k.toUTCString(),w.l.userDataElem.load(window.location.hostname),w.l.userDataElem.setAttribute(h,g),w.l.userDataElem.save(window.location.hostname))}catch(j){try{l&&(k=new Date,k.setTime(k.getTime()+l||31536000000)),document.cookie=h+"="+g+(k?"; expires="+k.toGMTString():"")}catch(i){}}},removeData:function(f){try{window.localStorage?window.localStorage.removeItem(f):w.l._initUserData()&&(w.l.userDataElem.load(window.location.hostname),w.l.userDataElem.removeAttribute(f),w.l.userDataElem.save(window.location.hostname))}catch(e){try{var h=new Date;h.setTime(h.getTime()-1),document.cookie=f+"=; expires="+h.toGMTString()}catch(g){}}return !0},serializeTags:function(){var e,j,i,h,g=[];for(e=0,j=J.tagKeys.length;j>e;e++){i=J.tagKeys[e],h=this.tags[i],"undefined"!=typeof h&&""!==h&&g.push(i+"="+encodeURIComponent(h))}return g.join("&")},setParams:function(){this.setTm(),Math.random()<0.005&&(this.tags.ua=w.checkUA()),this.tags.ho=w.checkHome(),this.tags.ref=document.referrer,this.tags.embed=self!==top?1:0,this.tags.v=L,this.tags.r=(new Date).getTime();for(E in G){this.tags[E]=G[E]}},postData:function(){var c,d=this;d.tags.type="access",c=J.protocol+"//"+J.rcv+"?"+d.serializeTags(),w.sio.log(c,function(){})}},new u,N&&N(G)}(function(c){Monkey.start({getPage:function(){return c.pageId},postUrl:HAO&&HAO.httpsTrans("http://nsclick.baidu.com/h.gif")||"https://sp1.baidu.com/8qUJcD3n0sgCo2Kml5_Y_D3/h.gif",hao123PostUrl:HAO&&HAO.httpsTrans("http://www.hao123.com/h.gif")||"https://www.hao123.com/h.gif",pid:113,hid:450,onstart:function(){var e,d,f;for(document.cookie.replace(/(?:^| )BAIDUID=([^;]*)(;|$)/,function(h,g){g&&Monkey.set("hao123_baiduid",decodeURIComponent(g.split(":")[0]))}),ALog.an("group","monkey"),ALog.an("extra","monkeyExtra"),e=["doc","common_erji_favorite_container","layoutContainer","userBar"],d=0;d<e.length;d++){f=document.getElementById(e[d]),f&&f.setAttribute&&f.setAttribute("alog-alias",e[d])}},onreport:function(f){var i,h,g;if(f.ver=5.2,f.v=f.page,document.cookie.replace(/(?:^| )FLASHID=([^;]*)(;|$)/,function(a,d){d&&(f.hao123_flashid=decodeURIComponent(d.split(":")[0]))}),delete f.page,f.objurl=f.u,delete f.u,f.title=f.txt,delete f.txt,f.area=f.g,delete f.g,f.monkey=f.mp,delete f.mp,f.xp&&ALog.epath&&(f.axp=f.xp,f.xp=ALog.epath(f.xp)),Monkey.fire("beforereport",f),f.gx){if(i=String(f.gx),h=window.JSON&&JSON.parse?JSON.parse(i):/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+i)():null){for(g in h){f[g]=h[g]}}delete f.gx}},reports:{click:1,onlylink:1}})}),window.js_track_loaded&&window.js_track_loaded(!0);
